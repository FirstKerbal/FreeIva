@PART[bluedog_LM_Ascent_Cockpit|bluedog_LM_Shelter|bluedog_LM_Taxi|bluedog_LM_Lab]:HAS[!MODULE[ModuleFreeIva]]:FOR[FreeIva]
{
	MODULE
	{
		name = ModuleFreeIva
	}
}

@INTERNAL[Lunar2*|Lunar3|LunarLab]:HAS[!MODULE[InternalModuleFreeIva]]:FOR[FreeIva]
{
	MODEL
	{
		model = FreeIva/Bluedog_DB/Lunar2
	}

	MODULE
	{
		name = InternalModuleFreeIva

		Reparent
		{
			childTransformName = IVAMASK // from LMMask
			parentTransformName = externalMask
		}
	}

	@PROP[bluedog_prop_lmhatch]:HAS[!MODULE[HatchConfig]]
	{
		MODULE
		{
			name = HatchConfig
			attachNodeId = top
		}
	}

	@PROP[bluedog_prop_lmdoor]:HAS[!MODULE[HatchConfig]]
	{
		MODULE
		{
			name = HatchConfig
			airlockName = Airlock (2)
		}
	}
}


@INTERNAL:HAS[@MODEL:HAS[#model[FreeIva/Bluedog_DB/Lunar2]]&@MODEL:HAS[#model[Bluedog_DB/Spaces/LunarNew/MaskTW]]]:FOR[FreeIva]
{
	@MODULE[InternalModuleFreeIva]
	{
		Reparent
		{
			childTransformName = TOPWINDOWMASK
			parentTransformName = externalMask
		}
	}
}

@INTERNAL:HAS[@MODEL:HAS[#model[FreeIva/Bluedog_DB/Lunar2]]&@MODEL:HAS[#model[Bluedog_DB/Spaces/LunarNew/MaskRW]]]:FOR[FreeIva]
{
	@MODULE[InternalModuleFreeIva]
	{
		Reparent
		{
			childTransformName = RIGHTWINDOWMASK
			parentTransformName = externalMask
		}
	}
}