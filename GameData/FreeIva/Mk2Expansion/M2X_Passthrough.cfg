@PART[M2X_Decoupler|M2X_Mk2BatteryBank|M2X_StructuralAdapterS|M2X_StructuralAdapterLong]:HAS[!MODULE[ModuleFreeIva]]:AFTER[Mk2Expansion]
{
	MODULE
	{
		name = ModuleFreeIva
		passThroughNodeA = top
		passThroughNodeB = bottom
	}
}

@PART[M2X_625tricoupler|M2X_UST|M2X_InverterFuselage]:HAS[!MODULE[ModuleFreeIva]]:AFTER[Mk2Expansion]:NEEDS[Reviva&B9PartSwitch]
{
	MODULE
	{
		name = ModuleFreeIva
	}

	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[fuelSwitch]]
	{
		@SUBTYPE:HAS[~tankType],*
		{
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleFreeIva
				}
				DATA
				{
					passThroughNodeA = top
					passThroughNodeB = bottom
				}
			}
		}
	}
}
